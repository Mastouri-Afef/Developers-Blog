{% extends 'Base.html' %}
{% block content %}
<!---when we dealing with details views it expects the context (post)of this template to be called object ,change post---|object-->

	<article class="media content-section">
	  <img class="rounded-circle article-img" src="{{ object.author.profile.image.url }}">
	  <div class="media-body">
	    <div class="article-metadata">
	       <a href="{{post.post_link}}" class="p-4">Read More <i class="mdi mdi-cheveron-right"></i> </a>
	      <small class="text-muted">{{ object.date_posted|date:"F d, Y" }}</small> <!--#le caractere| for filtring date -->
	      {% if object.author == user %}
		  <div>
		    <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'post-update' object.id %}">Update</a>
		    <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'post-delete' object.id %}">Delete</a>
		  </div>
	      {% endif %}      
	    </div>
	    <h2 class="article-title">{{ object.title }}</h2>
	    <p class="article-content">{{ object.content }}</p>
	  </div>
	  	  
	</article>
            <!--comments-->
            <div class="section ">
                <div class="container ">
                    <h2>Comments({{post_comments_count}})</h2>
                    <div class="row ">
                        <div class="col-lg-8 mx-auto ">
                            <!--display coment-->

                            <div class="media-list">
                                {% for comment in post_comments %}
                                <div>
                                    <img class="avatar avatar-sm mr-4" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png">

                                    <div class="media-body">
                                        <div class="small-1">
                                            <b> {{comment.user}}</b>
                                            <time class="ml-4 opaciy-70 small-3"> {{comment.date}}</time>
                                        </div>
                                        <p> {{comment.content}}</p>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>

                            
                            <!--display the form-->
                            <form method="POST">
                                {% csrf_token %}
                                <div class="form-group">
                                    {{form}}
                                </div> 
                                <button class="btn btn-primary btn-block " type="submit">Comment</button>   
                            </form>
                        </div>
                    </div>
                </div>
            </div>

{% endblock content%}
